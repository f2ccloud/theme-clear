<header class="desktop" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="LoveIt">
        <span class="header-title-pre">
          <img th:src="${theme.config.home.top_logo}" style="height: 24px; width: 24px" aria-hidden="true" />
        </span>
        <th:block th:text="${theme.config.home.top_logo_desc}"></th:block>
      </a>
    </div>
    <div class="menu">
      <div class="menu-inner" th:with="menu = ${menuFinder.getPrimary()}">
        <th:block
          th:with="path=${#ctx.getExchange().getRequest().getRequestPath()}, queryString=${#objects.nullSafe(#ctx.getExchange().getRequest().getQueryString(),'')}"
        >
          <th:block th:with="menuItems = ${menu.menuItems}">
            <a
              th:class="${menuItem.status.href == (path + (#strings.isEmpty(queryString) ? '' : '?' + queryString))} ? 'menu-item active' : 'menu-item'"
              th:each="menuItem : ${menuItems}"
              th:href="@{${menuItem.status.href}}"
            >
              <span> [[${menuItem.status.displayName}]] </span>
            </a>
          </th:block>
        </th:block>
        <span class="menu-item delimiter"></span>
        <span class="menu-item search" id="search-desktop" th:if="${pluginFinder.available('PluginSearchWidget')}">
          <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop" />
          <a
            href="javascript:SearchWidget.open()"
            class="search-button search-toggle"
            id="search-toggle-desktop"
            title="搜索"
          >
            <i class="fas fa-search fa-fw" aria-hidden="true"> </i>
          </a>
        </span>
        <a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
          <i class="fas fa-adjust fa-fw" aria-hidden="true"> </i>
        </a>
      </div>
    </div>
  </div>
</header>

<!-- 手机端 header -->
<header class="mobile" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="LoveIt">
          <span class="header-title-pre">
            <img th:src="${theme.config.home.top_logo}" style="height: 24px; width: 24px" aria-hidden="true" />
          </span>
          <th:block th:text="${theme.config.home.top_logo_desc}"></th:block>
        </a>
      </div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <div class="menu" id="menu-mobile" th:with="menu = ${menuFinder.getPrimary()}">
      <div class="search-wrapper">
        <div class="search mobile" id="search-mobile">
          <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile" />
          <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
            <i class="fas fa-search fa-fw" aria-hidden="true"> </i>
          </a>
          <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
            <i class="fas fa-times-circle fa-fw" aria-hidden="true"> </i>
          </a>
          <span class="search-button search-loading" id="search-loading-mobile">
            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"> </i>
          </span>
        </div>
        <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile"> 取消 </a>
      </div>
      <th:block
        th:with="path=${#ctx.getExchange().getRequest().getRequestPath()}, queryString=${#objects.nullSafe(#ctx.getExchange().getRequest().getQueryString(),'')}"
      >
        <th:block th:with="menuItems = ${menu.menuItems}">
          <a
            th:class="${menuItem.status.href == (path + (#strings.isEmpty(queryString) ? '' : '?' + queryString))} ? 'menu-item active' : 'menu-item'"
            th:each="menuItem : ${menuItems}"
            th:href="@{${menuItem.status.href}}"
          >
            <span> [[${menuItem.status.displayName}]] </span>
          </a>
        </th:block>
      </th:block>
      <a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
        <i class="fas fa-adjust fa-fw" aria-hidden="true"> </i>
      </a>
    </div>
  </div>
</header>

<div class="search-dropdown desktop">
  <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
  <div id="search-dropdown-mobile"></div>
</div>
